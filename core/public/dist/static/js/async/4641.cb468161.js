"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["4641"],{39432:function(e,t,a){a.d(t,{Au:()=>c,Fj:()=>o,LC:()=>s,Lb:()=>v,M7:()=>h,OV:()=>m,dj:()=>u,gK:()=>p,i7:()=>i,qt:()=>d,rU:()=>_,v1:()=>r,xh:()=>f,yW:()=>g});var l=a(34541);let{t:n}=a(76882).ZP.global,i=e=>l.e.get("/domains/list",{params:e}),s=()=>l.e.get("/domains/all"),d=()=>l.e.post("/multi_ip_domain/apply"),o=e=>l.e.post("/domains/create",e,{fetchOptions:{loading:n("domain.api.loading.creating"),successMessage:!0}}),p=e=>l.e.post("/domains/update",e,{fetchOptions:{loading:n("domain.api.loading.updating"),successMessage:!0}}),u=e=>l.e.post("/domains/delete",e,{fetchOptions:{loading:n("domain.api.loading.deleting"),successMessage:!0}}),m=e=>l.e.post("/domains/set_ssl",e,{fetchOptions:{loading:n("domain.api.loading.settingSSL"),successMessage:!0}}),c=e=>l.e.get("/domains/get_ssl",{params:e}),r=e=>l.e.post("/domains/fresh_dns_records",e,{fetchOptions:{loading:n("domain.api.loading.refreshingDns"),successMessage:!0}}),g=e=>l.e.post("/ssl/apply_cert",e,{fetchOptions:{loading:n("domain.api.loading.applyingCert"),successMessage:!0}}),f=e=>l.e.post("/domains/set_default_domain",e,{fetchOptions:{loading:n("domain.api.loading.settingDefault"),successMessage:!0}}),_=e=>l.e.post("/askai/project/create",e,{fetchOptions:{loading:n("domain.api.loading.settingBrandInfo"),successMessage:!0}}),h=e=>l.e.post("/multi_ip_domain/test",e,{fetchOptions:{loading:n("domain.api.loading.testingConnection"),successMessage:!0}}),v=()=>l.e.post("/askai/supplier/status")},31651:function(e,t,a){a.d(t,{A8:()=>s,NI:()=>d,QB:()=>u,WF:()=>p,Xc:()=>c,ef:()=>m,ij:()=>o});var l=a(76882),n=a(34541);let{t:i}=l.ZP.global;function s(e){return n.e.get("/email_template/list",{params:e})}function d(){return n.e.get("/email_template/all")}function o(e){return n.e.get("/email_template/get",{params:e})}function p(e){return n.e.post("/email_template/create",e,{fetchOptions:{loading:i("market.template.loading.creating"),successMessage:!0}})}function u(e){return n.e.post("/email_template/update",e,{fetchOptions:{loading:i("market.template.loading.updating"),successMessage:!0}})}function m(e){return n.e.post("/email_template/copy",e,{fetchOptions:{loading:i("market.template.loading.copying"),successMessage:!0}})}function c(e){return n.e.post("/email_template/delete",e,{fetchOptions:{loading:i("market.template.loading.deleting"),successMessage:!0}})}},47328:function(e,t,a){a.d(t,{Z:()=>d});var l=a(60579),n=a(58786),i=a(6768);let s=(0,n.aZ)({__name:"index",props:(0,n.Vf)({language:{type:String,default:"html"},theme:{type:String,default:"vs-dark"},options:{type:Object,default:()=>({})}},{value:{default:""},valueModifiers:{}}),emits:(0,n.Vf)(["save"],["update:value"]),setup(e,t){let{expose:a,emit:s}=t,d=(0,n.tT)(e,"value"),o=(0,n.iH)(null),p=null,u=(0,n.iH)(!1),m=async()=>{if(o.value&&!p)try{u.value=!0;let t=await i.Z.init();(p=t.editor.create(o.value,{value:d.value,language:e.language,theme:e.theme,minimap:{enabled:!1},automaticLayout:!0,scrollBeyondLastLine:!1,fontSize:14,tabSize:2,wordWrap:"on",...e.options})).onDidChangeModelContent(()=>{d.value=(null==p?void 0:p.getValue())||""}),p.addCommand(t.KeyMod.CtrlCmd|t.KeyCode.KeyS,function(){s("save")})}finally{u.value=!1}},c=()=>{p&&(p.dispose(),p=null)};return(0,n.YP)(()=>d.value,e=>{p&&e!==p.getValue()&&p.setValue(e)}),(0,n.bv)(()=>{m()}),(0,n.Jd)(()=>{c()}),a({getEditor:()=>p}),(e,t)=>{let a=l.Z;return(0,n.wg)(),(0,n.j4)(a,{class:"h-full",show:(0,n.SU)(u)},{default:(0,n.w5)(()=>[(0,n._)("div",{ref_key:"containerRef",ref:o,class:"monaco-editor-container"},null,512)]),_:1},8,["show"])}}}),d=(0,a(41748).default)(s,[["__scopeId","data-v-3c7da4e6"]])},53472:function(e,t,a){a.d(t,{Z:()=>i});var l=a(58786);let n=["height","srcdoc"],i=(0,l.aZ)({__name:"index",props:{value:{type:String,default:""},height:{type:[String,Number],default:"100%"}},setup:e=>(t,a)=>((0,l.wg)(),(0,l.iD)("iframe",{width:"100%",height:e.height,srcdoc:e.value,style:{border:"none",borderRadius:"4px"}},null,8,n))})},54078:function(e,t,a){a.d(t,{Z:()=>v});var l=a(46244),n=a(6455),i=a(47328),s=a(15496),d=a(3179),o=a(81833),p=a(8490),u=a(37864),m=a(73084),c=a(58786),r=a(51169),g=a(31651);let f={class:"flex flex-col flex-1 h-580px"},_={class:"flex justify-end gap-12px mb-8px"},h={class:"flex-1"},v=(0,c.aZ)({__name:"TemplateForm",setup(e){let t=(0,c.RC)(()=>Promise.all([a.e("9780"),a.e("7303"),a.e("5867"),a.e("3697"),a.e("9380")]).then(a.bind(a,48555))),v=(0,c.iH)(!1),y=(0,c.Fl)(()=>v.value?"Edit template":"New template"),w=(0,c.iH)(0),S=(0,c.qj)({temp_name:"",add_type:0,html_content:"",drag_data:""}),U=[{label:"HTML",value:0},{label:"Drag",value:1}],b=(0,c.Fl)(()=>{var e;return(null==(e=U.find(e=>e.value===S.add_type))?void 0:e.label)||""}),k=e=>{let t=new FileReader;t.onload=e=>{var t;S.html_content=null==(t=e.target)?void 0:t.result},e.file&&t.readAsText(e.file)},Z=()=>{let e=x.getState();e.preview&&e.preview(S.html_content)},[M,x]=(0,r.d)({onChangeState:e=>{if(e){let e=x.getState(),{row:t}=e;v.value=e.isEdit,e.type&&(S.add_type=e.type),t&&(w.value=t.id,S.temp_name=t.temp_name,S.add_type=t.add_type,S.html_content=t.html_content,S.drag_data=t.drag_data)}else w.value=0,S.temp_name="",S.add_type=0,S.html_content="",S.drag_data=""},onConfirm:async()=>{v.value?await (0,g.QB)({id:w.value,...(0,c.IU)(S)}):await (0,g.WF)((0,c.IU)(S)),x.getState().refresh()}});return(e,a)=>{let r=m.Z,g=u.ZP,w=p.Z,x=o.Z,C=d.Z,O=s.ZP,W=i.Z,j=n.ZP,P=l.Z;return(0,c.wg)(),(0,c.j4)((0,c.SU)(M),{title:(0,c.SU)(y),width:1200},{default:(0,c.w5)(()=>[(0,c.Wm)(P,{class:"pt-8px",model:(0,c.SU)(S)},{default:(0,c.w5)(()=>[(0,c.Wm)(x,{cols:24,"x-gap":24},{default:(0,c.w5)(()=>[(0,c.Wm)(g,{span:18,label:"Name",path:"temp_name"},{default:(0,c.w5)(()=>[(0,c.Wm)(r,{value:(0,c.SU)(S).temp_name,"onUpdate:value":a[0]||(a[0]=e=>(0,c.SU)(S).temp_name=e),placeholder:e.$t("market.template.add.namePlaceholder")},null,8,["value","placeholder"])]),_:1}),(0,c.Wm)(g,{span:6,label:"Type",path:"add_type"},{default:(0,c.w5)(()=>[(0,c.Wm)(w,{value:(0,c.SU)(S).add_type,"onUpdate:value":a[1]||(a[1]=e=>(0,c.SU)(S).add_type=e),disabled:(0,c.SU)(v),options:U},null,8,["value","disabled"])]),_:1})]),_:1}),(0,c.Wm)(j,{label:(0,c.SU)(b),"show-feedback":!1},{default:(0,c.w5)(()=>[(0,c._)("div",f,[(0,c._)("div",_,[(0,c._)("div",null,[(0,c.Wm)(C,{mode:"button","button-type":"primary","is-upload":!1,accept:["html"],onChange:k},{default:(0,c.w5)(()=>[(0,c.Uk)((0,c.zw)(e.$t("market.template.uploadHtml")),1)]),_:1})]),(0,c.Wm)(O,{type:"primary",ghost:"",onClick:Z},{default:(0,c.w5)(()=>[(0,c.Uk)((0,c.zw)(e.$t("common.actions.preview")),1)]),_:1})]),(0,c._)("div",h,[1===(0,c.SU)(S).add_type?((0,c.wg)(),(0,c.j4)((0,c.SU)(t),{key:0,config:(0,c.SU)(S).drag_data,"onUpdate:config":a[2]||(a[2]=e=>(0,c.SU)(S).drag_data=e),html:(0,c.SU)(S).html_content,"onUpdate:html":a[3]||(a[3]=e=>(0,c.SU)(S).html_content=e)},null,8,["config","html"])):(0,c.kq)("",!0),0===(0,c.SU)(S).add_type?((0,c.wg)(),(0,c.j4)(W,{key:1,value:(0,c.SU)(S).html_content,"onUpdate:value":a[4]||(a[4]=e=>(0,c.SU)(S).html_content=e),language:"html"},null,8,["value"])):(0,c.kq)("",!0)])])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["title"])}}})}}]);